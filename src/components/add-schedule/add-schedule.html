<ion-header>
  <ion-toolbar>
    <ion-title>ADD SCHEDULE</ion-title>
    <ion-buttons start>
      <button ion-button class="cancel" (click)="dismiss()">
        <span ion-text color="primary">Cancel</span>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="box mb-2 p-5 bg-indigo white">
    You can add schedule.
  </div>


  <div class="content p-3">

    <div class="mb-3">
      <div>Your timezone: ({{ timezone_offset > 0 ? "+" + timezone_offset : timezone_offset }}) {{ timezone_name }}</div>
      <div>Your time is now: {{ time }}</div>
      <div>
        <button ion-button class="update-tz" (click)="dismiss(); a.open('settings')">Update Timezone</button>
      </div>
    </div>

    <div class="mb-3">
      Class Begin:
      <input class="w-8" type="text" name="class_begin_hour" [(ngModel)]="data.class_begin_hour">(0-23)Hour :
      <input class="w-8" type="text" name="class_begin_minute" [(ngModel)]="data.class_begin_minute">(0-60)Min
      <div>
        <small>Ex) 8:30= 8:30am, 11:30= 11:30am, 15:00= 3:00pm, 20:00=8:00pm</small>
      </div>
    </div>

    <div class="mb-3">
      Class Duration:
      <input type="text" name="duration" [(ngModel)]="data.duration">
      <div>
        <small class="muted">
          How many minutes do you want to have the class?
        </small>
      </div>
      <div>
        <small class="muted">
          Ex) 10 = 10mins class, 25 = 25mins class, 120= 120mins(2hrs) class.
        </small>
      </div>
    </div>

    <div class="mb-2">
      POINT:
      <input type="text" name="point" [(ngModel)]="data.point">
        <small class="d-block muted">
          How many Points you will charge the student per class.
        </small>
        <small class="d-block muted">
          Ex) 500,1000,2000,2500,3000,4000,5000...
        </small>
    </div>

    <table>
      <tr class="mb-2">
        <td class="pr-3">Sun</td>
        <td class="pr-3">Mon</td>
        <td class="pr-3">Tue</td>
        <td class="pr-3">Wed</td>
        <td class="pr-3">Thu</td>
        <td class="pr-3">Fri</td>
        <td class="pr-3">Sat</td>
        <td class="pr-3">All</td>
      </tr>
      <tr>
        <td class="p-3">
          <input type="checkbox" name="sunday" [(ngModel)]="data.sunday" (change)="allDays=false">
        </td>
        <td class="p-3">
          <input type="checkbox" name="monday" [(ngModel)]="data.monday" (change)="allDays=false">
        </td>
        <td class="p-3">
          <input type="checkbox" name="tuesday" [(ngModel)]="data.tuesday" (change)="allDays=false">
        </td>
        <td class="p-3">
          <input type="checkbox" name="wednesday" [(ngModel)]="data.wednesday" (change)="allDays=false">
        </td>
        <td class="p-3">
          <input type="checkbox" name="thursday" [(ngModel)]="data.thursday" (change)="allDays=false">
        </td>
        <td class="p-3">
          <input type="checkbox" name="friday" [(ngModel)]="data.friday" (change)="allDays=false">
        </td>
        <td class="p-3">
          <input type="checkbox" name="saturday" [(ngModel)]="data.saturday" (change)="allDays=false">
        </td>
        <td class="p-3">
          <input type="checkbox" name="allDays" [(ngModel)]="allDays" (click)="onClickAllDays()">
        </td>

      </tr>
    </table>


    <ul>
      <li>Promo Schedule Graded Teacher must have.</li>
      <li><b>1</b> schedule with <b>10mins</b> duration for <b>500points</b> and minimum of <b>5days</b></li>
      <li><b>1</b> schedule with <b>20mins</b> duration for <b>1000points</b> and minimum of <b>5days</b></li>
    </ul>
    <div class="alert alert-warning mb-2" *ngIf=" maxPoint() ">
      You cannot raise more than {{ max_point_per_minute }} per minute.
      The point for {{ data['duration'] }} minutes class must be less than or equal to {{ data['duration'] *
      max_point_per_minute }}
    </div>


    <div>
      <div>PreRe:<input type="text" name="prere" [(ngModel)]="data.prere"></div>
      <div>
        <small class="muted">
          If you want to make the schedule limited to specific student, you can add the student email here.
        </small>
      </div>
    </div>


    <div class="alert alert-info" *ngIf=" calculateEarning() ">
      You will earn
      {{ calculateEarning() }}
      peso in a month
      (
      {{ data.duration }} minutes /
      {{ countSelectedDays() * 4 }} days a month
      with
      <input type="radio" name="payment_method" [(ngModel)]="payment_method" value="paypal"> paypal or
      <input type="radio" name="payment_method" [(ngModel)]="payment_method" value="western-union"> western union
      )

      Approximately.
      @see Policy

    </div>

    <button ion-button type="submit" (click)="onSubmit()">Submit</button>

  </div>


</ion-content>
