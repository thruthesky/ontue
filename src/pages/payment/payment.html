<ion-header>
  <header-content [title]=" '수업료 결제' "></header-content>
</ion-header>
<ion-content>
  <div class="page">
    <hook-content-top></hook-content-top>

    <section class="page-header">
      {{ 'PAYMENT PAGE TITLE' | translate }}
    </section>

    <section class="page-body">

      <div class="alert alert-warning rounded-0 my-2 p-3" *ngIf="inLoadingPaymentRate">
        <i class="fal fa-spinner fa-spin"></i> {{ 'LOADING PAYMENT INFORMATION' | translate }}
      </div>

      <section class="alert alert-warning rounded-0 my-2 p-3" *ngIf=" errorOnExchangeRate ">
        앗, 환율 책정 문제 발생하여 결제를 할 수 없습니다. 관리자에게 알려주세요.
      </section>

      <div *ngIf=" a.user.isLogin; else loginFirst ">
        <div class="mt-5 blue">{{'SELECT AMOUNT'| translate}}</div>
        <div class="d-flex justify-content-around my-5 py-5 bg-amount">
          <div>
            <input type="radio" name="amount" [(ngModel)]="amount" [value]="10000">
            <span>10,000 원</span>
          </div>
          <div>
            <input type="radio" name="amount" [(ngModel)]="amount" [value]="30000">
            <span>30,000 원</span>
          </div>
          <div>
            <input type="radio" name="amount" [(ngModel)]="amount" [value]="50000"> 
            <span>50,000 원</span>
          </div>
          <div>
            <input type="radio" name="amount" [(ngModel)]="amount" [value]="100000">
            <span>100,000 원</span>
          </div>
          <div>
            <input type="radio" name="amount" [(ngModel)]="amount" [value]="200000">
            <span>200,000 원</span>
          </div>
        </div>
      </div>

      <ng-template #loginFirst>
        <div class="my-5 py-5 text-center border-red red pointer" (click)=" a.open('login') ">
          앗, 회원 로그인을 먼저 해 주세요.
        </div>
      </ng-template>



      <div class="py-5 text-center" *ngIf=" ! paypal_ready ">
        <div><i class="fa fa-spinner fa-spin"></i> 페이팔 신용카드 결제를 초기화 중입니다.</div>
        <div>잠시만 기다려주세요.</div>
      </div>

      <div class="mb-5">
        <button class="w-100 bg-white" id="paypal-button"></button>
      </div>

      <div class="alert alert-secondary" *ngIf=" amount_in_usd_with_tax() ">
        <div>{{ amount | number }} 원 결제(세금 {{ payment_rate.paypal_student_fee }}% 별도)를 선택하였습니다.</div>
        <div>
          {{ amount | number }} 포인트가 충전되며 결제는 약 {{ amount_in_usd_with_tax() }} 달러(세금 포함)가 결제됩니다.
        </div>
      </div>

    </section>
    <hook-content-bottom></hook-content-bottom>
  </div>
  <!--/page-->
</ion-content>
