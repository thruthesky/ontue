<ion-header>
  <header-content></header-content>
</ion-header>


<ion-content>
    <div class="page">
  <div class="box header bg-darkslateblue">
    <span *ngIf="a.user.isLogout">{{ 'REGISTER' | translate }}</span>
    <span *ngIf="a.user.isLogin">{{ 'UPDATE PROFILE' | translate }}</span>
  </div>


  <div class="text-center mt-5">
    <div class="profile-user p-relative d-inline-block w-10 of-hidden text-center" (click)="fileUpload.onClickCamera()">
      <input *ngIf=" ! a.isCordova " class="p-absolute z-100 t-0 l-0 size-15 bg-grey" style="opacity: 0.001" type="file"
             (change)="fileUpload.onChangeFile($event)">
      <div class="profile-user-photo">
        <img class="size-10 rounded-50" src="{{files.length ? files[0].url : a.anonymousPhotoURL}}">
      </div>
      <button class="btn submit fs-lg" [class.skip]="files && files.length">
        <i class="fa fa-camera mr-2"></i>
        {{ 'PRIMARY PHOTO' | translate }}
      </button>
      <file-upload-widget #fileUploadWidget [title]="false" [fileSelectionButton]="false" [files]="files"
                          [showUploadedFiles]="false"
                          (success)="onSuccessUploadPicture($event)"></file-upload-widget>

    </div>
  </div>

  <hr>

  <form (submit)="onSubmit()">


    <ion-list>
      <ion-item>

        <ion-grid>
          <ion-row>
            <ion-col col-3>I am a</ion-col>
            <ion-col col-9>
              <label>
                <input type="radio" name="user_type" [(ngModel)]="user_type" value="S" (ngModelChange)="onClickType()">
                Student
              </label>
              <label>
                <input type="radio" name="user_type" [(ngModel)]="user_type" value="T" (ngModelChange)="onClickType()">
                Teacher
              </label>
            </ion-col>
          </ion-row>
        </ion-grid>
        <small class="text-muted">Choose user user-type.</small>
      </ion-item>


      <ion-item>
        <ion-label floating>{{ 'TIMEZONE' | translate }}</ion-label>
        <ion-select [(ngModel)]="offset" name="timezone">
          <ion-option *ngFor="let t of keysTimezone()" value="{{ t }}">{{ format(t) }} {{ tz[t].name }}</ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label floating>{{ 'EMAIL' | translate }}</ion-label>
        <ion-input type="email" [(ngModel)]="account.user_email" name="email"></ion-input>
      </ion-item>

      <ion-item *ngIf="a.user.isLogout">
        <ion-label floating>{{ 'PASSWORD' | translate }}</ion-label>
        <ion-input type="password" [(ngModel)]="account.user_pass" name="password"></ion-input>
      </ion-item>


      <ion-item>
          <ion-label floating>{{ 'NAME' | translate }}</ion-label>
          <ion-input type="text" [(ngModel)]="account.name" name="name"></ion-input>
        </ion-item>

        <ion-item>

            {{ 'GENDER' | translate }}

            <input [(ngModel)]="account.gender" type="radio" name="gender" value="M" [checked]=" account.gender == 'M' "> Male,
            <input [(ngModel)]="account.gender" type="radio" name="gender" value="F" [checked]=" account.gender == 'F' "> Female
        </ion-item>



      <ion-item>
          <ion-label floating>{{ 'BIRTHDAY' | translate }}</ion-label>
          <ion-input type="text" [(ngModel)]="account.birthday" name="birthday"></ion-input>
        </ion-item>

      <ion-item>
        <ion-label>{{ 'BIRTHDAY' | translate }}</ion-label>
        <ion-datetime name="birthday" displayFormat="MM/DD/YYYY" pickerFormat="MMDDYYYY" [(ngModel)]="birthday" (ngModelChange)="onChangeBirthDate()"></ion-datetime>
      </ion-item>



      <ion-item>
        <ion-label floating>{{ 'NICKNAME' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="account.display_name" name="nickname"></ion-input>
      </ion-item>


      <ion-item>
        <ion-label floating>{{ 'PHONE NUMBER' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="account.phone_number" name="phone_number"></ion-input>
      </ion-item>


      <ion-item>
        <ion-label floating>{{ 'KAKAOTALK ID' | translate }}</ion-label>
        <ion-input type="text" [(ngModel)]="account.kakaotalk_id" name="kakaotalk_id"></ion-input>
      </ion-item>

      <ion-item *ngIf="a.user.isLogin">
        Upload QR Mark
        <file-upload-widget #fileUploadWidgetQRMARK
                            [title]="true"
                            [fileSelectionButton]="true"
                            [files]="qrmarks"
                            [showUploadedFiles]="true"
                            (success)="onSuccessUploadQRMark( $event )"></file-upload-widget>
        <div class="fs-lg mt-2" text-wrap>QR Mark is required for teacher, open your mobile KakaoTalk > Edit Profile >
          My QR Code > Click Download.
        </div>
      </ion-item>


      <ion-item *ngIf="a.lms.getUserType() == 'teacher' ">
        bookable time
      </ion-item>


      <div padding>
        <button ion-button color="primary" block>{{ 'REGISTER BUTTON' | translate }}</button>
      </div>


    </ion-list>
  </form>
  </div>
</ion-content>
